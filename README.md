## Analysis of government contracts  
  
### Краткое описание:  
  
Сбор данных с сайта госзакупок для выявления завышенных закупочных цен.  
Сайт госзакупок: https://zakupki.gov.ru  
  
### Стек:  
  
Python, SQLite, Docker  
  
### Полное описание:  
  
Анализируем возможный ущерб в сфере госзакупок по выбранному контрагенту путем парсинга его контрактов, выборки конкретных позиций номенклатуры по которым будет производить анализ, затем парсинга всей этой номенклатуры у других участников госзакупок (за аналогичный период в аналогичном регионе). Для дальнейшего сравнения цен, по которым была закуплена номенклатура выбранным контрагентом и цен по которым ее закупали другие участники госзакупок. Описание работы скриптов:  
  
1. Парсим данные по выбранному контрагенту, по выбранным номерам контрактов (`contracts_parsing.py`).  
  
2. Парсим номера контрактов, где встречается искомая номенклатура (выбранная в п.1), по которой будет производиться анализ (`get_contract_numbers_by_item_names.py`).  
  
3. Объединяем данные по позициям (из п. 2) в один файл и записываем его в БД (`make_csv_and_db.py`).   
  
4. Сканируем БД и парсим искомую номенклатуру из контрактов, найденных в п. 2 (`get_positions_for_analysis.py`).   
  
5. Выгружаем спарсенные данные в csv файл дальнейшей очистки и анализа (`make_dataset.py`).  
  
Документацию можно посмотреть [здесь.](./docs/description.md)
  
### Инструкция по запуску:  
  
Создать папку для проекта. Создать в ней папку `data`.  
Выполнить в папке проекта последовательно скрипты:  
  
>python3 contracts_parsing.py  
  
>python3 get_contract_numbers_by_item_names.py  
  
>python3 make_csv_and_db.py  
  
>python3 get_positions_for_analysis.py   
  
>python3 make_dataset.py

### Запуск проекта в Docker

Создать в папке проекта папку `data`

Клонировать репозиторий
```
git clone git@github.com:prol-it/analysis-of-government-contracts.git
```

Собрать образ из Dockerfile
```
docker build --tag gz .
```

Запустить контейнер
```
docker run -it --rm -v $(pwd)/data:/app/data gz /bin/bash
```
